<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link href="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/css/bootstrap-grid.css" rel="stylesheet"></head>
<body ng-app="App" ng-controller="ctrl">
     <div>
         <dialog title="我是标题">我是内容，内容</dialog>
     </div>


<script src="../../js/angular-1.2.29/angular.js"></script>
     <script type="text/ng-template" id="dialogDirective">
         <div class='modal show'>
             <div class="modal-dialog">
                 <div class="modal-content">
                     <div class="modal-header">
                         <button type="button" class="close" ng-click="close();"><span aria-hidden="true">×</span></button>
                         <h4 class="modal-title">{{title}}</h4>
                     </div>
                     <div class="modal-body" ng-transclude>

                     </div>
                     <div class="modal-footer">
                         <!--注意：此处调用的是link方法中scope定义的close方法-->
                         <button type="button" class="btn btn-primary" ng-click="close();" >关闭</button>
                     </div>
                 </div><!-- /.modal-content -->
             </div><!-- /.modal-dialog -->
         </div><!-- /.modal -->
     </script>
<script type="text/javascript">

    //编辑angular控制器作用域
       var App=angular.module('App',[])
           .controller('ctrl',function ($scope) {

           });

       //编辑angular自定义指令
         App.directive("dialog",function () {

             return{
                 restrict:'E',
                 // replace:true,
                 templateUrl:'dialogDirective',
                 transclude:true,
                 scope:{
                     title:'@'
                 },
                 link:function (scope,element,attributes) {
                     //自定义指令的函数区域
                     scope.close=function () {
                         element.removeClass('show')
                     }
                 }
             };

         });

</script>
</body>
</html>
